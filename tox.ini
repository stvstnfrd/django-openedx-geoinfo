[tox]
downloadcache = {toxworkdir}/_download/
envlist = coverage,py27-dj{14,18},pep8,pylint,pyflakes

[testenv]
deps = .
commands = {envpython} manage.py test

[testenv:py27-dj14]
deps = django == 1.4.22

[testenv:py27-dj18]
deps = django >= 1.8, < 1.9

[testenv:pep8]
deps = pep8
commands = {envbindir}/pep8 src/

[testenv:pylint]
deps =
    pylint
commands = {envbindir}/pylint src/

[testenv:pyflakes]
deps = pyflakes
commands = {envbindir}/pyflakes src/

[testenv:coverage]
deps =
    .
    coverage
skip_install = true
usedevelop = false
commands =
    coverage run --rcfile tox.ini --source src $(which nosetests)
    coverage report
